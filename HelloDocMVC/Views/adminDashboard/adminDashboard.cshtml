@model DAL_Data_Access_Layer_.CustomeModel.adminDashData;

@inject IHttpContextAccessor Accessor
@using Microsoft.AspNetCore.Http

@{
    ViewData["Title"] = "Admin Dashboard";
}


 <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />
<link href="~/css/adminDashboard.css" rel="stylesheet" type="text/css" /> 

<partial name="_Notification" />

 <div class="p-sm-2 p-md-5 ">
    <div class="tab-content" id="myTabContent">
        <div id="content">

        </div>
    </div>
</div> 


<partial name="_ValidationScriptsPartial" />


<script>
  
    let action = "/adminDashboard" + "/" + "LoadPartialDashboard";
    if (localStorage.getItem('ajaxSuccess')) {
        access();        
    }
    else {
        $.ajax({
            url: action,
            type: 'GET',
            data: { req: 1 },
            success: function (result) {
                $('#content').html(result);
                $("#providerTabMain").removeClass("customactive");
                $("#accessTabMain").removeClass("customactive");
                $("#recordMainTab").removeClass("customactive");
            },
            error: function () {
                alert('Error aa loading partial view');
            }
        });
    }

    function adminMain() {
        let action = "/adminDashboard" + "/" + "LoadPartialDashboard"
        $.ajax({
            url: action,
            type: 'GET',
            data: { req: 1 },
            success: function (result) {
                $('#content').html(result);
                $("#providerTabMain").removeClass("customactive");
                $("#accessTabMain").removeClass("customactive");
                $("#recordMainTab").removeClass("customactive");
            }, 
            error: function () {
                alert('Error aa loading partial view');
            }
        });
    }

    function myProfile() {
        let action = "/adminDashboard" + "/" + "myProfile"
        $.ajax({
            url: action,
            type: 'GET',
            success: function (result) {                
                $('#content').html(result);
                $("#providerTabMain").removeClass("customactive");
                $("#accessTabMain").removeClass("customactive");
                $("#recordMainTab").removeClass("customactive");
            },
            error: function (e) {
                console.log(e);
                toastr.error("Error To Load Partial View");
            }
        });
    }

    function providers() {
        $.ajax({
            url: "/adminDashboard/provider",
            type: 'GET',
            success: function (result) {
                $("#content").html(result);
                document.getElementById("Scheduling-tab").classList.remove("active");
                $("#providerTabMain").addClass("customactive");
                $("#accessTabMain").removeClass("customactive");
                $("#recordMainTab").removeClass("customactive");
            },
            error: function () {
                toastr.error("Error To Load Partial View");
            },
        });
    }
    
    function scheduling() {
        $.ajax({
            url: "/adminDashboard/GetScheduling",
            type: 'GET',
            success: function (result) {
                $("#content").html(result);
                document.getElementById("Providers-tab").classList.remove("active");
                $("#providerTabMain").addClass("customactive");
                $("#accessTabMain").removeClass("customactive");
                $("#recordMainTab").removeClass("customactive");
            },
            error: function () {
                toastr.error("Error To Load Partial View");
            },
        });
    }
    
    function Invoicing() {
        $.ajax({
            url: "/adminDashboard/Invoicing",
            type: 'GET',
            success: function (result) {
                $("#content").html(result);
                document.getElementById("Providers-tab").classList.remove("active");
                $("#providerTabMain").addClass("customactive");
                $("#accessTabMain").removeClass("customactive");
                $("#recordMainTab").removeClass("customactive");
            },
            error: function () {
                toastr.error("Error To Load Partial View");
            },
        });
    }

    function providerLocation() {
        $.ajax({
            url: "/adminDashboard/providerLocation",
            type: 'GET',
            success: function (result) {
                $("#content").html(result);
                $("#providerTabMain").removeClass("customactive");
                $("#accessTabMain").removeClass("customactive");
                $("#recordMainTab").removeClass("customactive");
            },
            error: function () {
                toastr.error("Error To Load Partial View");
            },
        });
    }
    
    
    function partners() {
        $.ajax({
            url: "/adminDashboard/partners",
            type: 'GET',
            success: function (result) {
                $("#content").html(result);
                $("#providerTabMain").removeClass("customactive");
                $("#accessTabMain").removeClass("customactive");
                $("#recordMainTab").removeClass("customactive");
            },
            error: function () {
                toastr.error("Error To Load Partial View");
            },
        });
    }
    
    function access() {
        $.ajax({
            url: "/adminDashboard/access",
            type: 'GET',
            success: function (result) {
                $("#content").html(result);
                document.getElementById("AccessUser-tab").classList.remove("active");
                document.getElementById("CreateAdmin-tab").classList.remove("active");
                $("#providerTabMain").removeClass("customactive");
                $("#accessTabMain").addClass("customactive");
                $("#recordMainTab").removeClass("customactive");
            },
            error: function () {
                toastr.error("Error To Load Partial View");
            },
        });
    }
    
    function userAccess() {
        $.ajax({
            url: "/adminDashboard/userAccess",
            type: 'GET', 
            success: function (result) {
                $("#content").html(result);
                document.getElementById("Access-tab").classList.remove("active");
                document.getElementById("CreateAdmin-tab").classList.remove("active");
                $("#providerTabMain").removeClass("customactive");
                $("#accessTabMain").addClass("customactive");
                $("#recordMainTab").removeClass("customactive");
            },
            error: function () {
                toastr.error("Error To Load Partial View");
            },
        });
    }

    function createAdmin(){    
        $.ajax({
            url: "/adminDashboard/createAdmin",
            type: 'GET',
            success: function (result) {
                $("#content").html(result);
                document.getElementById("AccessUser-tab").classList.remove("active");
                document.getElementById("Access-tab").classList.remove("active");
                $("#providerTabMain").removeClass("customactive");
                $("#accessTabMain").addClass("customactive");
                $("#recordMainTab").removeClass("customactive");
            },
            error: function () {
                toastr.error("Error To Load Partial View");
            },
        });
    }

    //*************************************************************************************Records***************************************************

    
    function searchRecords() {
        $.ajax({
            url: "/adminDashboard/searchRecords",
            type: 'GET',
            success: function (result) {
                console.log(result);
                console.log(result.length);
                $("#content").html(result);
                document.getElementById("Email-Logs").classList.remove("active");
                document.getElementById("SMS-Logs").classList.remove("active");
                document.getElementById("Patient-Records").classList.remove("active");
                document.getElementById("Blocked-History").classList.remove("active");
                $("#providerTabMain").removeClass("customactive");
                $("#accessTabMain").removeClass("customactive");
                $("#recordMainTab").addClass("customactive");
            },
            error: function () {
                toastr.error("Error To Load Partial View");
            },
        });
    }

    function emailLogs(tempId) {
        console.log(tempId);
        $.ajax({
            url: "/adminDashboard/emailLogs",
            type: 'GET',
            data: { tempId: tempId },
            success: function (result) {
                $("#content").html(result);
                document.getElementById("Search-Records").classList.remove("active");
                document.getElementById("SMS-Logs").classList.remove("active");
                document.getElementById("Patient-Records").classList.remove("active");
                document.getElementById("Blocked-History").classList.remove("active");
                $("#providerTabMain").removeClass("customactive");
                $("#accessTabMain").removeClass("customactive");
                $("#recordMainTab").addClass("customactive");
            },
            error: function () {
                toastr.error("Error To Load Partial View");
            },
        });
    }

    function smsLogs(tempId) {
        console.log(tempId);
        $.ajax({
            url: "/adminDashboard/smsLogs",
            type: 'GET',
            data: { tempId: tempId },
            success: function (result) {
                $("#content").html(result);
                document.getElementById("Search-Records").classList.remove("active");
                document.getElementById("Email-Logs").classList.remove("active");
                document.getElementById("Patient-Records").classList.remove("active");
                document.getElementById("Blocked-History").classList.remove("active");
                $("#providerTabMain").removeClass("customactive");
                $("#accessTabMain").removeClass("customactive");
                $("#recordMainTab").addClass("customactive");
            },
            error: function () {
                toastr.error("Error To Load Partial View");
            },
        });
    }

    function records() {
        $.ajax({
            url: "/adminDashboard/records",
            type: 'GET',
            success: function (result) {
                $("#content").html(result);
                document.getElementById("Search-Records").classList.remove("active");
                document.getElementById("Email-Logs").classList.remove("active");
                document.getElementById("SMS-Logs").classList.remove("active");
                document.getElementById("Blocked-History").classList.remove("active");
                $("#providerTabMain").removeClass("customactive");
                $("#accessTabMain").removeClass("customactive");
                $("#recordMainTab").addClass("customactive");
            },
            error: function () {
                toastr.error("Error To Load Partial View");
            },
        });
    }
    function blockedHistory() {
        $.ajax({
            url: "/adminDashboard/blockedHistory",
            type: 'GET',
            success: function (result) {
                $("#content").html(result);
                document.getElementById("Search-Records").classList.remove("active");
                document.getElementById("Email-Logs").classList.remove("active");
                document.getElementById("SMS-Logs").classList.remove("active");
                document.getElementById("Patient-Records").classList.remove("active");
                $("#providerTabMain").removeClass("customactive");
                $("#accessTabMain").removeClass("customactive");
                $("#recordMainTab").addClass("customactive");
            },
            error: function () {
                toastr.error("Error To Load Partial View");
            },
        });
    }


    
    

</script>

