<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - HelloDocMVC</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
          integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
          crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://code.iconify.design/3/3.1.0/iconify.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>
    <link rel="stylesheet" href="~/css/adminDashboard.css"/>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

    <style>
        .nav-link {
            border: none !important;
        }

        .nav-item .active {
            border-bottom:2px solid skyblue!important;
            color: #0dcaf0 !important;
        }

        .active {
            color: skyblue !important;
        }

        .show{
            color: skyblue !important;
        }

        .dark-mode {
            background-color: #333 !important;
            color: #fff!important;
        }

        .dark-mode-two {
            color: #fff!important;
        }


        html[data-bs-theme="dark"] nav.header {
            background-color: rgb(42, 50, 56) !important;
        }

        html[data-bs-theme="dark"] .text-testing {
            color: white !important;
        }

        html[data-bs-theme="dark"] .modal-dark {
            color: #212529 !important;
        }

        html[data-bs-theme="dark"] .dark-mode1 {
            background-color: rgb(42, 50, 56) !important;
            color:white!important;            
        }
        
        html[data-bs-theme="dark"] .dark-mode2 {
            background-color: rgb(42, 50, 56) !important;
            color:white!important;            
        }
        html[data-bs-theme="dark"] .new {
            color: white !important;
        }

        html[data-bs-theme="dark"] .Pending {
            color: white !important;
        }

        html[data-bs-theme="dark"] .Active {
            color: white !important;
        }

        html[data-bs-theme="dark"] .Conclude {
            color: white !important;
        }

        html[data-bs-theme="dark"] .ToClose {
            color: white !important;
        }

        html[data-bs-theme="dark"] .Unpaid {
            color: white !important;
        }

    </style>

</head>
<body onload="checkMode()" class="dark-mode1">
    <div class="container-fluid" id="MainDiv" style="height:100vh;position:relative;padding:0">

        <div id="mainContainer">
            <nav class="navbar header shadow position-relative top-0 z-3">
                <div class="container-fluid ">
                    <div class="d-flex justify-content-center ">
                        <button class="navbar-toggler d-inline-block d-sm-none my-3 px-1" type="button" data-bs-toggle="collapse"
                                data-bs-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent"
                                aria-expanded="false" aria-label="Toggle navigation">
                            <i class="fa-solid fa-bars" style="width: 1.8em;height: 1.8em;border: 2px solid skyblue;color: skyblue;border-radius: 4px;font-size: 1.2em;padding-top: 7px;"></i>
                        </button>
                        <a class="navbar-brand" href="#">
                            <img src="/images/docLogo.png" class="logo img-fluid mx-2" alt="" style="height: 70px;">
                        </a>
                    </div>
                    <div class="d-flex align-items-center">
                        <div class="mx-2 d-flex align-items-center d-none d-sm-inline-block">
                            <p class="text-secondary fs-6">
                                <h5>
                                    Welcome
                                    <strong id="userNameMain">
                                        @TempData["headerUserName"]
                                    </strong>
                                </h5>
                            </p>
                        </div>
                        <div class="mx-2">
                            <a type="button" onclick=" location.href = '@Url.Action("logoutSession","Home")';"
                               class="btn btn-outline-dark text-info shadow border-info py-2 ">
                                <span class="d-none d-sm-inline-block ">Logout</span>
                                <span class="d-inline-block d-sm-none">
                                    <i class="bi bi-box-arrow-right text-info"></i>
                                </span>
                            </a>
                        </div>
                        <div class="me-2">
                            <button type="button" class="btn shadow border-info"
                                    style="border-radius: 10px; border-color: aqua" id="colorButton">
                                <i id="moon" class="bi bi-moon text-info fs-4"></i>
                                <i id="sun" class="bi bi-sun text-info fs-4 d-none"></i>
                            </button>
                        </div>
                        @* <div id="darkMode" style="z-index: 2;">
                            <i class="fa-regular fa-moon fa-2x me-5 p-1 "
                               style="color: #09d4e3;border: 1px solid #09d4e3;border-radius: 4px;"
                               onclick="darkMode()" id="darkmodeBtn"></i>
                        </div> *@
                    </div>
                </div>

                <hr class="w-100 m-0 p-0 d-none d-sm-block">
                <div class="collapse w-100 mx-sm-1 show d-sm-block" id="navbarToggleExternalContent">
                    <div class="px-3">
                        <ul class="nav nav-underline" id="myTab" role="tablist">
                            @if (ViewBag.Menu.Contains("Dashboard"))
                            {
                                <li class="nav-item" role="presentation">
                                    <button onclick="adminMain()" class="nav-link dark-mode2 active text-muted px-3" id="home-tab" data-bs-toggle="tab"
                                    data-bs-target="#home-tab-pane" type="button" role="tab" aria-controls="home-tab-pane"
                                    aria-selected="false">
                                        Dashboard
                                    </button>
                                </li>
                            }
                            @if (ViewBag.Menu.Contains("Provider Location"))
                            {                                
                                <li class="nav-item" role="presentation">
                                    <button onclick="providerLocation()" class="nav-link dark-mode2  text-muted px-3" id="ProviderLocation-tab" data-bs-toggle="tab"
                                            data-bs-target="#ProviderLocation-tab-pane" type="button" role="tab"
                                            aria-controls="ProviderLocation-tab-pane" aria-selected="false">
                                        Provider Location
                                    </button>
                                </li>
                            }
                            @if (ViewBag.Menu.Contains("My Profile"))
                            {                                
                                <li class="nav-item" role="presentation">
                                    <button onclick="myProfile()" class="nav-link dark-mode2 text-muted px-3" id="Myprofile-tab" data-bs-toggle="tab"
                                            data-bs-target="#Myprofile-tab-pane" type="button" role="tab" aria-controls="Myprofile-tab-pane"
                                            aria-selected="false">
                                        My Profile
                                    </button>
                                </li>                           
                            }
                             @if (ViewBag.Menu.Contains("Provider") || ViewBag.Menu.Contains("Scheduling"))
                            {
                                <li class="nav-item" role="presentation">
                                    <div class="nav-link  text-muted px-3 dropdown customactive" data-bs-toggle="tab" role="tab" id="providersDropdown">
                                        <button role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="border:none;" class="dropDownMain dark-mode2">
                                            <span id="providerTabMain">Providers <i class="fa-solid fa-chevron-down"></i></span>                                           
                                        </button>
                                        <div class="dropdown-menu dark-mode2" aria-labelledby="providersDropdown" style="width:134px!important;">
                                            @if (ViewBag.Menu.Contains("Providers"))
                                            {
                                                <button style="width:100%;" onclick="providers()" class="nav-link dark-mode2 text-muted px-3" id="Providers-tab" data-bs-toggle="tab"
                                                data-bs-target="#Providers-tab-pane" type="button" role="tab" aria-controls="Providers-tab-pane"
                                                aria-selected="false">
                                                    Providers
                                                </button>
                                            }
                                            @if (ViewBag.Menu.Contains("Scheduling"))
                                            {
                                                <button style="width:100%;" onclick="scheduling()" class="nav-link dark-mode2 text-muted px-3" id="Scheduling-tab" data-bs-toggle="tab"
                                                data-bs-target="#Scheduling-tab-pane" type="button" role="tab" aria-controls="Scheduling-tab-pane"
                                                aria-selected="false">
                                                    Scheduling
                                                </button>
                                            }
                                        </div>
                                    </div>
                                </li>
                            }
                            @if (ViewBag.Menu.Contains("Partners"))
                            {
                                <li class="nav-item" role="presentation">
                                    <button onclick="partners()" class="nav-link dark-mode2 text-muted px-3" id="Partners-tab" data-bs-toggle="tab"
                                    data-bs-target="#Partners-tab-pane" type="button" role="tab" aria-controls="Partners-tab-pane"
                                    aria-selected="false">
                                        Partners
                                    </button>
                                </li>
                            }
                            @if (ViewBag.Menu.Contains("Account Access") || ViewBag.Menu.Contains("User Access") || ViewBag.Menu.Contains("Create Admin"))
                            {
                                <li class="nav-item" role="presentation">
                                    <div class="nav-link text-muted px-3 dropdown" data-bs-toggle="tab" role="tab" id="AccessDropdown">
                                        <button role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="border:none;" class="dropDownMain dark-mode2 ">
                                            <span id="accessTabMain">
                                                Access<i class="fa-solid fa-chevron-down"></i>
                                                </span>
                                            
                                        </button>
                                        <div class="dropdown-menu dark-mode2" aria-labelledby="AccessDropdown" style="width:134px!important;">
                                            @if (ViewBag.Menu.Contains("Account Access"))
                                            {
                                                <button style="width:100%;" onclick="access()" class="nav-link dark-mode2 text-muted px-3" id="Access-tab" data-bs-toggle="tab"
                                                data-bs-target="#Access-tab-pane" type="button" role="tab" aria-controls="Access-tab-pane"
                                                aria-selected="false">
                                                    Account Access
                                                </button>
                                            }
                                            @if (ViewBag.Menu.Contains("User Access"))
                                            {
                                                <button style="width:100%;" onclick="userAccess()" class="nav-link dark-mode2  text-muted px-3" id="AccessUser-tab" data-bs-toggle="tab"
                                                data-bs-target="#AccessUser-tab-pane" type="button" role="tab" aria-controls="AccessUser-tab-pane
                                                aria-selected="false">
                                                    User Access
                                                </button>
                                            }
                                            @if (ViewBag.Menu.Contains("Create Admin"))
                                            {
                                                <button style="width:100%;" onclick="createAdmin()" class="nav-link dark-mode2 text-muted px-3" id="CreateAdmin-tab" data-bs-toggle="tab"
                                                data-bs-target="#CreateAdmin-tab-pane" type="button" role="tab" aria-controls="CreateAdmin-tab-pane
                                                aria-selected="false">
                                                    Create Admin
                                                </button>
                                            }
                                        </div>
                                    </div>
                                </li>
                            }
                            @if (ViewBag.Menu.Contains("Search Records") || ViewBag.Menu.Contains("Email Logs") || ViewBag.Menu.Contains("SMS Logs") || ViewBag.Menu.Contains("Patient History") || ViewBag.Menu.Contains("Block History"))
                            {
                                <li class="nav-item" role="presentation">
                                    <div class="nav-link  text-muted px-3 dropdown" data-bs-toggle="tab" role="tab" id="Records-tab">
                                        <button role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="border:none;" class="dropDownMain dark-mode2">
                                            <span id="recordMainTab">
                                                Records <i class="fa-solid fa-chevron-down"></i>
                                                </span>
                                           
                                        </button>
                                        <div class="dropdown-menu dark-mode2" aria-labelledby="AccessDropdown" style="width:134px!important;">
                                            @if (ViewBag.Menu.Contains("Search Records"))
                                            {
                                                <button onclick="searchRecords()" style="width:100%;" class="nav-link dark-mode2 text-muted px-3" id="Search-Records" data-bs-toggle="tab"
                                                data-bs-target="#Search-Records-pane" type="button" role="tab" aria-controls="Search-Records-pane"
                                                aria-selected="false">
                                                    Search Records
                                                </button>
                                            }
                                            @if (ViewBag.Menu.Contains("Email Logs"))
                                            {
                                                <button onclick="emailLogs()" style="width:100%;" class="nav-link dark-mode2 text-muted px-3" id="Email-Logs" data-bs-toggle="tab"
                                                data-bs-target="#Email-Logs-pane" type="button" role="tab" aria-controls="Email-Logs-pane
                                                aria-selected="false">
                                                    Email Logs
                                                </button> 
                                            }
                                            @if (ViewBag.Menu.Contains("SMS Logs"))
                                            {
                                                <button style="width:100%;" onclick="smsLogs()" class="nav-link dark-mode2 text-muted px-3" id="SMS-Logs" data-bs-toggle="tab"
                                                data-bs-target="#SMS-Logs-pane" type="button" role="tab" aria-controls="SMS-Logs-pane
                                                aria-selected="false">
                                                    SMS Logs
                                                </button>
                                            }
                                            @if (ViewBag.Menu.Contains("Patient Records"))
                                            {
                                                <button style="width:100%;" onclick="records()" class="nav-link dark-mode2 text-muted px-3" id="Patient-Records" data-bs-toggle="tab"
                                                data-bs-target="#Records-tab-pane" type="button" role="tab" aria-controls="Patient-Records-pane"
                                                aria-selected="false">
                                                    Patient Records
                                                </button>
                                            }
                                            @if (ViewBag.Menu.Contains("Blocked History"))
                                            {
                                                <button style="width:100%;" onclick="blockedHistory()" class="nav-link dark-mode2 text-muted px-3" id="Blocked-History" data-bs-toggle="tab"
                                                data-bs-target="#Blocked-History-pane" type="button" role="tab" aria-controls="Blocked-History-pane
                                                aria-selected="false">
                                                    Blocked History
                                                </button>
                                            }
                                        </div>
                                    </div>                                
                                </li>
                            }
                        </ul>
                    </div>
                </div>
            </nav>


           

            <div class="p-sm-2 p-md-5">
                <div class="tab-content" id="myTabContent">
                    <div id="content">
                        @RenderBody()
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script>
        // function darkMode() {

        //     let isDarkModeTwo = localStorage.getItem('darkMode') === 'true'
        //     let moon = document.getElementById("darkmodeBtn");
        //     let navLink = document.getElementsByClassName("nav-link");
        //     let navLinkTwo = document.getElementsByClassName("dropDownMain");

        //     if (isDarkModeTwo) {
        //         moon.classList.remove("fa-sun")
        //         moon.classList.add("fa-moon")
        //     } else {
        //         moon.classList.add("fa-sun")
        //         moon.classList.remove("fa-moon")
        //     }

        //     for (let i = 0; i < navLink.length; i++) {
        //         navLink[i].classList.toggle("dark-mode");
        //     }

        //     for (let i = 0; i < navLinkTwo.length; i++) {
        //         navLinkTwo[i].classList.toggle("dark-mode");
        //     }

        //     document.getElementById("new-tab").classList.toggle('dark-mode-two');
        //     document.getElementById("Pending-tab").classList.toggle('dark-mode-two');
        //     document.getElementById("Active-tab").classList.toggle('dark-mode-two');
        //     document.getElementById("Conclude-tab").classList.toggle('dark-mode-two');
        //     document.getElementById("ToClose-tab").classList.toggle('dark-mode-two');
        //     document.getElementById("Unpaid-tab").classList.toggle('dark-mode-two');

        //     const body = document.body;
        //     body.classList.toggle('dark-mode');

        //     const isDarkMode = body.classList.contains('dark-mode');

        //     localStorage.setItem('darkMode', isDarkMode);

        // }



        // window.onload = function () {
        //     setTimeout(() => {
        //         const isDarkMode = localStorage.getItem('darkMode') === 'true';

        //         let moon = document.getElementById("darkmodeBtn");

        //         let navLink = document.getElementsByClassName("nav-link");
        //         let navLinkTwo = document.getElementsByClassName("dropDownMain");

        //         if (isDarkMode) {
        //             document.body.classList.add('dark-mode');
        //             document.getElementById("myTab").classList.add('dark-mode');


        //             for (let i = 0; i < navLink.length; i++) {
        //                 navLink[i].classList.add("dark-mode");
        //             }

        //             for (let i = 0; i < navLinkTwo.length; i++) {
        //                 navLinkTwo[i].classList.add("dark-mode");
        //             }

        //             moon.classList.remove("fa-moon");
        //             moon.classList.add("fa-sun");

        //             document.getElementById("new-tab").classList.add('dark-mode-two');
        //             document.getElementById("Pending-tab").classList.add('dark-mode-two');
        //             document.getElementById("Active-tab").classList.add('dark-mode-two');
        //             document.getElementById("Conclude-tab").classList.add('dark-mode-two');
        //             document.getElementById("ToClose-tab").classList.add('dark-mode-two');
        //             document.getElementById("Unpaid-tab").classList.add('dark-mode-two');
        //         }
        //     },1000)
        // }

    </script>

    <script src="~/js/darkmode.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />

    <script src="~/lib/jquery/dist/jquery.min.js"></script>

    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

    <script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.7/js/dataTables.bootstrap5.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet" />
  
    @await RenderSectionAsync("Scripts", required: false)
</body>
<script>


</script>
</html>
